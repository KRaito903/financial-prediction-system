extend schema
  @link(url: "https://specs.apollo.dev/federation/v2.9", import: ["@key"])

type User {
  id: ID!
  email: String!
  password: String!
  createdAt: String!
  updatedAt: String!
}

type AuthPayload {
  success: Boolean!
  message: String!
  user: User
}

type Query {
  listUsers: [User!]!
  login(email: String!, password: String!): AuthPayload!
}

input ChangePasswordInput {
  userId: ID!
  newPassword: String!
}

input ChangeEmailInput {
  userId: ID!
  newEmail: String!
}

input deleteAccoutInput {
  userId: ID!
}

type SettingsPayload {
  success: Boolean!
  message: String!
  user: User
}

type Mutation {
  signup(email: String!, password: String!): AuthPayload!
  changePassword(input: ChangePasswordInput!): SettingsPayload!
  changeEmail(input: ChangeEmailInput!): SettingsPayload!
  deleteAccount(input: deleteAccoutInput!): SettingsPayload!
}
